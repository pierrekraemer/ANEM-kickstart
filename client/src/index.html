<!DOCTYPE html>

<html lang="en" ng-app="main" ng-controller="MainCtrl">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title ng-bind="pageTitle"> </title>

    <base href="/">

    <link rel="stylesheet" href="css/ANEM-kickstart-0.0.1.css">
</head>

<body>

    <nav class="navbar navbar-inverse" role="navigation">
    <div class="container">

        <div class="navbar-header">
            <button type="button" class="navbar-toggle" ng-click="menuCollapsed = !menuCollapsed">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
	        <a ui-sref="home" class="navbar-brand" ng-bind="APP_NAME"> </a>
	    </div>

        <div class="navbar-collapse" collapse="menuCollapsed">
    	    <ul class="nav navbar-nav">
                <li ng-repeat="item in menuItems" ng-if="item.public || isAuthorized(item.roles)" ng-switch="item.type" dropdown="item.type === 'dropdown'">
                    <a ng-switch-when="item" ui-sref="{{ item.state }}"> {{ item.title }} </a>
                    <a ng-switch-when="dropdown" href="" class="dropdown-toggle" data-toggle="dropdown">
                        {{ item.title }}
                        <b class="caret"></b>
                    </a>
                    <ul ng-switch-when="dropdown" class="dropdown-menu">
                        <li ng-repeat="subitem in item.subMenuItems" ng-if="subitem.public || isAuthorized(subitem.roles)">
                            <a ui-sref="{{ subitem.state }}"> {{ subitem.title }} </a>
                        </li>
                    </ul>
                </li>
    	    </ul>

            <ul class="nav navbar-nav navbar-right">
                <li ng-if="!isAuthenticated()"> <a ui-sref="signin"> Sign in </a> </li>
                <li ng-if="isAuthenticated()" class="dropdown">
                    <a href="" class="dropdown-toggle" data-toggle="dropdown"> <span class="glyphicon glyphicon-user"></span> {{ currentUser().username }} <b class="caret"></b> </a>
                    <ul class="dropdown-menu">
                        <li> <a ui-sref="user.profile"> Profile </a> </li>
                        <li class="divider"></li>
                        <li> <a href="" ng-click="signout()"> Sign out </a> </li>
                    </ul>
                </li>
            </ul>
        </div>

    </div>
	</nav>

    <div class="container" ui-view="main"></div>

    <script src="js/ANEM-kickstart-0.0.1.js"></script>
    <!-- <script src="js/ANEM-kickstart-0.0.1.min.js"></script> -->

</body>

</html>
